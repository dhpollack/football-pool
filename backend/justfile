@default:
    @just -u -l

generate:
    go generate ./...

build: generate
    go build -o football-pool ./cmd/main.go

tidy:
    go mod tidy

run:
    go run ./cmd/main.go

run-bin:
    ./football-pool

lint:
    golangci-lint run ./...

format:
    go fmt ./...

test *args="-cover -coverprofile=coverage.txt ./...":
    go test {{ args }}

build-push-local:
    # This builds the amd image local and the arm image on the orangepi5-max-ubuntu
    docker buildx build --builder multiarch-builder --platform linux/arm64,linux/amd64 -t 192.168.8.1:5000/local/football-pool/backend:dev . --output type=registry,registry.insecure=true
